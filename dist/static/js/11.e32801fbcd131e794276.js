webpackJsonp([11],{"7biW":function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r,i,c=e("cVr7"),o=this,n={el:"#animated-number-demo",mounted:function(){console.log("search")},data:function(){return{hotList:[],searchWorld:"",searchList:[],showDetail:!1,searchHistory:[],searchTip:!0,number:0,tweenedNumber:0,dNumber:0}},directives:{focus:{inserted:function(s){s.focus()}}},computed:{animatedNumber:function(){return this.tweenedNumber.toFixed(0)}},watch:{searchWorld:function(){this.debounceSearch(this),""===this.searchWorld&&(this.searchTip=!0)},number:function(s){TweenLite.to(o.$data,.5,{tweenedNumber:s})}},methods:{getData:function(){var s=this;this.$axios.get("/search/hot").then(function(t){var e=localStorage.getItem("searchHistory");null!=e&&(s.searchHistory=e.split(",")),s.searchWorld="",s.hotList=t.data.result.hots})},sollorder:function(){this.detailWrapper=new c.a(this.$refs.page,{click:!0})},debounceSearch:(a=function(s){""!=s.searchWorld?s.getHot():s.searchList=[]},r=1e3,i="",function(s){i&&clearTimeout(i),i=setTimeout(function(){a(s)},r)}),getHot:function(){var s=this;if(this.$axios.get("/search?keywords="+this.searchWorld).then(function(t){s.searchList=t.data.result.songs,s.searchTip=!1,s.$nextTick(function(){s.scroll||(s.scroll=new c.a(s.$refs.page,{}))})}),this.searchHistory.includes(this.searchWorld)){var t=this.searchHistory.indexOf(this.searchWorld);this.searchHistory.splice(t,1)}else this.searchHistory.length>=5&&this.searchHistory.pop();this.searchHistory.reverse(),this.searchHistory.push(this.searchWorld),this.searchHistory.reverse(),localStorage.setItem("searchHistory",this.searchHistory)},toText:function(){}}},l={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("transition",{staticClass:"wrapper",attrs:{id:"search",name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.showDetail,expression:"showDetail"}],staticClass:"search"},[e("header",{staticClass:"topctrl",style:{background:s.$store.state.zColor}},[e("div",{staticClass:"back",on:{click:function(t){return s.showToggle(1)}}},[e("i",{staticClass:"fa fa-angle-left fa-2x"})]),s._v(" "),e("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:s.searchWorld,expression:"searchWorld"}],staticClass:"searchInput",attrs:{placeholder:"搜索歌曲、歌手",type:"text"},domProps:{value:s.searchWorld},on:{input:function(t){t.target.composing||(s.searchWorld=t.target.value)}}}),s._v(" "),""!=s.searchWorld?e("i",{staticClass:"el-icon-close back",on:{click:function(t){s.searchWorld=""}}}):s._e()]),s._v(" "),s.searchTip?e("div",{staticClass:"resultsBox addTop"},[e("div",{staticClass:"HS-title"},[s._v("热门搜索")]),s._v(" "),e("div",{staticClass:"hotSearchBox"},s._l(s.hotList,function(t,a){return e("div",{key:a,staticClass:"cellHS",on:{click:function(e){s.searchWorld=t.first}}},[s._v("\n          "+s._s(t.first)+"\n        ")])}),0)]):s._e(),s._v(" "),s.searchTip?e("div",{staticClass:"resultsBox"},[e("div",{staticClass:"HS-title"},[s._v("搜索历史")]),s._v(" "),e("div",{staticClass:"hotSearchBox"},s._l(s.searchHistory,function(t,a){return e("div",{key:a,staticClass:"cellHS",on:{click:function(e){s.searchWorld=t}}},[s._v("\n          "+s._s(t)+"\n        ")])}),0)]):s._e(),s._v(" "),s.searchList.length>=1?e("div",{ref:"page",staticClass:"scrollBox"},[e("div",{staticClass:"SearchResultsBox"},s._l(s.searchList,function(t,a){return e("div",{key:a,staticClass:"SearchResults",on:{click:function(e){return s.playSong(t.id,t.name,t.artists[0].name,t.album.picId)}}},[e("div",{staticClass:"searchName"},[s._v(s._s(t.name))]),s._v(" "),e("div",[s._v(s._s(t.artists[0].name))])])}),0)]):s._e()])])},staticRenderFns:[]};var h=e("VU/8")(n,l,!1,function(s){e("Qbmq")},"data-v-25b42b00",null);t.default=h.exports},Qbmq:function(s,t){}});
//# sourceMappingURL=11.e32801fbcd131e794276.js.map